<app-modal-please-signup #modalPleaseSignUp></app-modal-please-signup>
<h2>Корзина</h2>
<img *ngIf="loading" class="lds-spinner" src="assets/img/gifs/loading-spinner.gif" alt="...">
<div *ngIf="items">
  <div *ngIf="items.length > 0; else cartEmptyBlock" class="layout">
    <div class="items-list">
      <div class="headers">
        <div class="header title">Наименование</div>
        <div class="header price">Цена</div>
        <div class="header count">Количество</div>
        <div class="header price">Стоимость</div>
      </div>
      <app-cart-item
        [item]="item" *ngFor="let item of items"
        (countChange)="onCountChange($event)"
        (remove)="onRemove($event)"
      ></app-cart-item>
    </div>
    <div class="card summary">
      <div>
        <h2>Товары в корзине:</h2>
        <div class="summary-grid">
          <div>Наименований:</div>
          <div class="summary-value">{{items.length}} шт.</div>
          <div>Общая стоимость:</div>
          <div class="summary-value price lg">{{total | price}} р.</div>
        </div>
      </div>
      <hr noshade size="1">
      <button class="btn fill" (click)="onOrderBtnClick()">Оформить заказ</button>
    </div>
  </div>
  <ng-template #cartEmptyBlock>
    <h2 class="cart-empty">Корзина пуста</h2>
  </ng-template>
</div>

